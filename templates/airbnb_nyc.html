<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Airbnb in New Yrok City</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin="" />

    <!-- Leaflet JavaScript code -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

    <!-- D3 library -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
        
    <!-- Marker cluster JavaScript code -->
    <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js"></script>

    <!-- Marker cluster CSS -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.Default.css">

    <!-- Leaflet heatmap plugin-->
    <script type="text/javascript" src="/static/leaflet-heat.js"></script>

    <!-- Our CSS  -->
    <link rel="stylesheet" type="text/css" href="/static/mystyle.css" />

    <link rel="icon" href="data:;base64,iVBORw0KGgo=">    
</head>


<body>
    <h1>New York City - Airbnb Analysis</h1>
    <div class="dropdown">
        <button class="dropbtn">Database</button>
        <div class="dropdown-content">
        <a href="http://127.0.0.1:5000/data" target="_blank">Full data</a>
        <a href="http://127.0.0.1:5000/data/metadata_map" target="_blank">Listing location with ratings</a>
        <a href="http://127.0.0.1:5000/data/room_type" target="_blank">Listing room types</a>
        <a href="http://127.0.0.1:5000/data/count_hood_availability_20" target="_blank">Avalibilty shorter than 20 days</a>
        <a href="http://127.0.0.1:5000/data/count_hood_availability_300" target="_blank">Avaliability longer than 300 days</a>
        <a href="http://127.0.0.1:5000/data/count_hood_availability_20_300" target="_blank">Avaliablity comparison</a>
        <a href="http://127.0.0.1:5000/data/avg_price" target="_blank">Listings average price</a>
      </div>
    </div>


    <div id="pie" style="float:right;"></div> 
    <h2>Room Type Percentage</h2>
    <p>There are 43,566 listings in New York City. They have been divided into five broad:
        <ul>
            <li>Entire home/apt</li>
            <li>Private room</li>
            <li>Shared room</li>
            <li>Hotel room</li>
        </ul>
        <br>
    Nearly 57% of the room were listed as entire home/apt. 47% of the listings are private rooms.<br>
    The remaining 1% are shares rooms and hotel rooms.
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </p>
    <script src="{{url_for('static', filename='pie.js')}}"></script>
    

    <h2>Airbnb Avalibilty By Neighbourhood Group </h2>
    <p> There are 5 neighbourhood group in New York City:</p>
    <ul>
        <li>Bronx</li>
        <li>Brooklyn</li>
        <li>Manhattan</li>
        <li>Queens</li>
        <li>Staten Island</li>
    </ul>
    <div id="bar"></div>
    <script src="{{url_for('static', filename='bar.js')}}"></script>
    <hr />


    <h2>Room Type Average Cost by Neighbourhood Group</h2>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <div id="container"></div>
    <script src="{{url_for('static', filename='new_library.js')}}"></script>

    
    <h1>Listing Density Map</h1>
    <div id ="map2"></div>
    <!-- JavaScript file -->
    <script type="text/javascript" src="/static/heatMap.js"></script>

    <h1>Listings Location Map</h1>
    <div id="map"></div>
    <!--JavaScript file -->
    <script type="text/javascript" src="/static/logicCluster.js"></script>

</body>

</html>
